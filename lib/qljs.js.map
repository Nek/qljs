{"version":3,"sources":["webpack://qljs/webpack/universalModuleDefinition","webpack://qljs/webpack/bootstrap","webpack://qljs/./src/index.tsx","webpack://qljs/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\",\"umd\":\"react\"}","webpack://qljs/external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\",\"umd\":\"react-dom\"}"],"names":[],"mappings":"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","file":"qljs.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qljs\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"qljs\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nconst parserNoMatch = (id: string, key: string | number | symbol): void => {\n  console.warn(`${String(id)} parser for \"${String(key)}\" is missing.`);\n};\nconst alreadyDefined = (id: string, key: string | number | symbol): void => {\n  throw new Error(\n    `${String(id)} parser is already defined for \"${String(key)}\".`\n  );\n};\n\nconst metaParser = (name, dict) => (id, parser) => {\n  const maybeParser = dict[id];\n  if (maybeParser) {\n    alreadyDefined(name, id);\n  } else {\n    dict[id] = parser;\n  }\n};\n\nexport type ReadParser = (term: Term, env: Env, state: any) => any;\nconst readDict: { [tag: string]: ReadParser } = {};\nconst read = metaParser(\"Read\", readDict);\n\nexport type MutateParser = (term: Term, env: Env, state: any) => any;\nconst mutateDict: { [tag: string]: MutateParser } = {};\nconst mutate = metaParser(\"Mutate\", mutateDict);\n\nexport type RemoteParser = (term: Term, state: any) => Term;\nconst remoteDict: { [tag: string]: RemoteParser } = {};\nconst remote = metaParser(\"Remote\", remoteDict);\n\nexport type SyncParser = (\n  term: Term,\n  result: object,\n  env: Env,\n  state: any\n) => void;\nconst syncDict: { [tag: string]: SyncParser } = {};\nconst sync = metaParser(\"Sync\", syncDict);\n\nexport const parsers = {\n  read,\n  mutate,\n  remote,\n  sync\n};\n\nconst render = (\n  ctx: QLProps | Array<QLProps>,\n  Component: QLComponent\n): JSX.Element | JSX.Element[] =>\n  Array.isArray(ctx) ? (\n    ctx.map(ctx => (\n      <Component\n        {...ctx}\n        transact={(query: Query): void => transact(ctx, query)}\n        render={render}\n      />\n    ))\n  ) : (\n    <Component\n      {...ctx}\n      transact={(query: Query): void => transact(ctx, query)}\n      render={render}\n    />\n  );\n\nexport type QLComponent = React.FunctionComponent<QLProps>;\n\nlet RootComponent: QLComponent;\nlet element: HTMLElement;\nlet state: object;\nlet remoteHandler: (tag: string, params: object) => Promise<[Term, any][]>;\n\ntype Attributes = {\n  [propName: string]: string | number | [] | {} | boolean | Attributes;\n  key: string;\n};\n\ntype Context = {\n  __env: Env;\n  __query: Query;\n};\n\ntype Utils = {\n  render: (\n    ctx: QLProps | Array<QLProps>,\n    Component: QLComponent\n  ) => JSX.Element | JSX.Element[];\n  transact: (query: Query) => void;\n};\n\nexport type QLProps = Attributes & Context & Utils;\n\nconst registry: Map<QLComponent, Query> = new Map();\n\ntype Tag = string;\ntype Params = object;\n\ntype Term = [Tag, Params, ...Term[]];\ntype Query = Term[];\n\ntype ShortTerm = Tag | [Tag, Params?, ...(Query | Term | QLComponent)[]];\ntype ShortQuery = ShortTerm[];\n\ntype StrictlyParametrizedTerm = [\n  Tag,\n  Params,\n  ...(Term | QLComponent | Query)[]\n];\n\nfunction isStrictlyParametrizedTerm(\n  term: [Tag, ...(Term | QLComponent | Query)[]] | StrictlyParametrizedTerm\n): term is StrictlyParametrizedTerm {\n  return term.length > 1 && isParams(term[1]);\n}\n\n/*\nShortQuery\nShortTerm[]\n\nTerm\n[Tag, Params, ...Term[]]\n\nQuery\nTerm[]\n\nShortTerm\n'todoId' -> Tag\n['todoId'] -> [Tag]\n['todoId', Area, AreaOption] -> [Tag, ...QLComponent[]]\n['todoId', {}] -> [Tag, Params]\n['todoId', {}, Area, AreaOption] -> [Tag, Params, ...QLComponent[]]\n['todoId', {}, Area, [['todoId', {}],['areaId',{}]], Area] -> [Tag, Params, ...(Query | Term | QLComponent)[]]\n['todoId', Area, AreaOption] -> [Tag, ...QLComponent[]]\n['todoId', Area, [['todoId', {}],['areaId',{}]], Area] -> [Tag, Params, ...(Query | Term | QLComponent)[]]\n */\n\nfunction isParams(term: unknown | Params): term is Params {\n  return Object.prototype.toString.call(term) === \"[object Object]\";\n}\n\nfunction isTerm(curr: Term | Query | QLComponent): curr is Term {\n  return typeof curr[0] === \"string\";\n}\n\nfunction isQuery(curr: Query | QLComponent): curr is Query {\n  return Array.isArray(curr[0]);\n}\n\nfunction normalize(rest: (Term | Query | QLComponent)[]): Term[] {\n  return rest.reduce<Term[]>(\n    (res: Term[], curr: Term | Query | QLComponent): Term[] => {\n      if (isTerm(curr)) {\n        return [...res, curr];\n      } else if (isQuery(curr)) {\n        return [...res, ...curr];\n      } else {\n        const query = getQuery(curr);\n        return [...res, ...query];\n      }\n    },\n    []\n  );\n}\n\nfunction tagToTerm(tag: Tag | unknown[]) {\n  return typeof tag === \"string\" ? [tag] : tag;\n}\n\nfunction addParamsAndNormalize(\n  term: [Tag, ...(Term | QLComponent | Query)[]] | StrictlyParametrizedTerm\n): Term {\n  if (isStrictlyParametrizedTerm(term)) {\n    const [, , ...rest]: [\n      Tag,\n      Params,\n      ...(Term | QLComponent | Query)[]\n    ] = term;\n    return [term[0], term[1], ...normalize(rest)];\n  } else {\n    const [, ...rest]: [Tag, ...(Term | QLComponent | Query)[]] = term;\n    return [term[0], {}, ...normalize(rest)];\n  }\n}\n\nexport const component = (dsl: ShortQuery, key: QLComponent): QLComponent => {\n  const query: Query = dsl\n    // Convert query tag to a Term ['todoId'] -> [['todoId', {}]]\n    .map(tagToTerm)\n    .map(addParamsAndNormalize);\n\n  registry.set(key, query);\n  return key;\n};\n\nexport function getQuery(key: QLComponent): Query {\n  return registry.get(key);\n}\n\nexport function clearRegistry(): void {\n  registry.clear();\n}\n\ntype Env = {\n  __parentEnv?: Env;\n  __queryKey?: string;\n};\n\nconst parseQueryTerm = (term: Term, __env: Env): object => {\n  const mutateFn = mutateDict[term[0]];\n  if (mutateFn) {\n    return mutateFn(term, __env, state);\n  } else {\n    const parser = readDict[term[0]];\n    if (parser === undefined) {\n      parserNoMatch(\"Read\", term[0]);\n      return null;\n    }\n    return parser(term, __env, state);\n  }\n};\n\nconst parseQuery = (query: Query, __env: Env): Array<object> => {\n  if (__env === undefined) {\n    return parseQuery(query, {});\n  }\n\n  return query.map(queryTerm => parseQueryTerm(queryTerm, __env));\n};\n\nfunction makeProps(res: object, [k, v]: [string, object]): object {\n  return { ...res, [k]: v };\n}\n\nexport function parseQueryIntoProps(\n  __query: Query,\n  __env: Env = {},\n  _state: object = state\n): Attributes & Context {\n  const queryNames: string[] = __query.map(v => v[0]);\n  const queryResult = parseQuery(__query, __env);\n\n  const props = zip(queryNames, queryResult).reduce(makeProps, {});\n  const key = props[queryNames[0]];\n  return {\n    __env,\n    __query,\n    key: typeof key === \"string\" ? key : \"unique\",\n    ...props\n  };\n}\n\nfunction parseQueryRemote(query: Query): Query {\n  const result = query.reduce((acc, term) => {\n    const remote = remoteDict[term[0]];\n    if (remote) {\n      const v: Term = remote(term, state);\n      return v ? [...acc, v] : acc;\n    } else {\n      return acc;\n    }\n  }, []);\n  return result;\n}\n\nexport function parseChildrenRemote([dispatchKey, params, ...chi]: Term) {\n  const chiRemote = parseQueryRemote(chi);\n  return [dispatchKey, params, ...chiRemote];\n}\n\nfunction parseQueryTermSync(term: Term, result: object, __env: Env): void {\n  const syncFun = syncDict[term[0]];\n  if (syncFun) {\n    syncFun(term, result, __env, state);\n  } else {\n    parserNoMatch(\"Sync\", term[0]);\n  }\n}\n\nexport function zip<T, U>(a1: Array<T>, a2: Array<U>): (T | U)[][] {\n  return a1.map((x, i) => [x, a2[i]]);\n}\n\nfunction compressTerm(term: Term): Term {\n  const compressInner = (term: Term, res: { tags: Tag[]; params: any[] }) => {\n    if (term === undefined) {\n      return res;\n    } else {\n      res.tags.push(term[0]);\n      res.params.push(term[1]);\n      return compressInner(term[2], res);\n    }\n  };\n  const { tags, params } = compressInner(term, { tags: [], params: [] });\n  return [tags.reverse()[0], params.reduce((res, p) => ({ ...res, ...p }), {})];\n}\n\n/*\nCall remote handler for a query and zip result to\n*/\nfunction performRemoteQuery(query: Query): void {\n  if (remoteHandler) {\n    const [term] = query;\n    const [tag, params] = compressTerm(term);\n    remoteHandler(tag, params).then(results => {\n      zip(query, results).forEach(([k, v]: [Term, any]) => {\n        parseQueryTermSync(compressTerm(k), v, {});\n      });\n      refresh({ skipRemote: true });\n    });\n  }\n}\n\nfunction refresh({ skipRemote }) {\n  if (RootComponent !== undefined) {\n    const rootQuery = getQuery(RootComponent);\n    !skipRemote && performRemoteQuery(parseQueryRemote(rootQuery));\n    const props = parseQueryIntoProps(rootQuery);\n    ReactDOM.render(\n      <RootComponent\n        {...props}\n        transact={(query: Query): void => transact(props, query)}\n        render={render}\n      />,\n      element\n    );\n  }\n}\n\nexport function mapDelta(map1: {}, map2: {}): {} {\n  return Object.entries(map2)\n    .filter(([k, v]) => v !== map1[k])\n    .reduce((res, [k, v]) => ({ ...res, [k]: v }), {});\n}\n\nexport function loopRootQuery(queryTerm: Term, __env?: Env): Term {\n  if (__env) {\n    const newEnv: Env = {\n      ...(__env.__parentEnv ? mapDelta(__env.__parentEnv, __env) : __env),\n      __parentEnv: undefined,\n      __queryKey: undefined\n    };\n    return loopRootQuery(\n      [__env.__queryKey, newEnv, queryTerm],\n      __env.__parentEnv\n    );\n  } else {\n    return queryTerm;\n  }\n}\n\nexport function parseChildren(\n  term: Term,\n  __env: Env,\n  _state = state\n): Attributes & Context {\n  const [, , ...query] = term;\n  const newEnv = { ...__env, __parentEnv: { ...__env, __queryKey: term[0] } };\n  return parseQueryIntoProps(query, newEnv, _state);\n}\n\nexport function makeRootQuery(__env: Env, query: Query): Term[] {\n  return query.map(queryTerm => {\n    return loopRootQuery(queryTerm, __env.__parentEnv);\n  });\n}\nexport function transact(\n  { __env, __query: componentQuery },\n  query: Query,\n  _state = state\n): void {\n  const rootQuery = [...query, ...componentQuery].map(queryTerm => {\n    return loopRootQuery(queryTerm, __env.__parentEnv);\n  });\n  parseQuery(rootQuery, __env);\n  performRemoteQuery(parseQueryRemote(rootQuery));\n  refresh({ skipRemote: false });\n}\n\nexport function init({\n  state: _st,\n  remoteHandler: _rh\n}): ({\n  Component,\n  element\n}: {\n  Component: QLComponent;\n  element: HTMLElement;\n}) => void {\n  state = _st;\n  remoteHandler = _rh;\n  return ({ Component, element: _el }) => {\n    RootComponent = Component;\n    element = _el;\n    refresh({ skipRemote: true });\n  };\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;"],"sourceRoot":""}